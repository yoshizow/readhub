<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>ReadHub</title>
<link href="/css/google-code-prettify/prettify.css" type="text/css" rel="stylesheet">
<link href="/css/blob.css" type="text/css" rel="stylesheet">
<script src="/js/jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="/js/jquery.jsonp-2.3.0.min.js" type="text/javascript"></script>
<script src="/js/base64.js" type="text/javascript"></script>
<script src="/js/blob.js" type="text/javascript"></script>
<script src="/js/google-code-prettify/prettify.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function() {
    var project = "{{ project }}";
    var revision = "{{ revision }}";
    var user = "{{ user }}";
    var repo = "{{ repo }}";
    var id = "{{ id }}";
    var path = "{{ path }}";
    $("#status").text("getting source code...");
    var commentModel = new CommentModel();
    var persistentCommentModel = new PersistentCommentModel(commentModel, project, revision, path);
    getSource(user, repo, id, function() {
        $("#status").text("getting source code...done");
        prettyPrint();
        persistentCommentModel.getAllComments(function(status) {
            var commentView = new CommentView(persistentCommentModel);
        });
    });
});
</script>
</head>

<body>

<p>{{ project_link_html }} &gt; {{ path_html }}</p>

<div id="status"></div>
<pre id="source" class="prettyprint linenums"></pre>
<div id="cursor" style="display: none; position: absolute;"></div>
<span id="comment_edit" style="display: none;"><textarea class="comment_edit"></textarea><br></span>
<span name="comment" class="comment"><span name="container"></span><br></span>

</body>
</html>
